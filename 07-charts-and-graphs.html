
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Document manufacture for fun and profit">
      
      
        <meta name="author" content="Murray Andrews">
      
      
      
        <link rel="prev" href="06-jinja-rendering.html">
      
      
        <link rel="next" href="08-data-sources.html">
      
      
      <link rel="icon" href="img/docma-logo/png/docma-icon-light.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Charts and Graphs - Docma User Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="css/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#charts-and-graphs-in-docma" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Docma User Guide" class="md-header__button md-logo" aria-label="Docma User Guide" data-md-component="logo">
      
  <img src="img/docma-logo/svg/docma-icon-mid-2.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docma User Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Charts and Graphs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Docma User Guide" class="md-nav__button md-logo" aria-label="Docma User Guide" data-md-component="logo">
      
  <img src="img/docma-logo/svg/docma-icon-mid-2.svg" alt="logo">

    </a>
    Docma User Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01-overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="02-document-creation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Document Creation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="03-document-templates.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Document Templates
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="04-template-compilation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template Compilation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="05-template-rendering.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template Rendering
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="06-jinja-rendering.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jinja Rendering
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Charts and Graphs
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="07-charts-and-graphs.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Charts and Graphs
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#charts-in-html-content" class="md-nav__link">
    <span class="md-ellipsis">
      Charts in HTML Content
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chart-specification-files" class="md-nav__link">
    <span class="md-ellipsis">
      Chart Specification Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-data-for-charts" class="md-nav__link">
    <span class="md-ellipsis">
      Source Data for Charts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips-and-suggestions-for-designing-charts" class="md-nav__link">
    <span class="md-ellipsis">
      Tips and Suggestions for Designing Charts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samples" class="md-nav__link">
    <span class="md-ellipsis">
      Samples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="08-data-sources.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Sources
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="09-fonts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fonts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="10-installation-and-usage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation and Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="11-extending-docma.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extending Docma
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="12-api.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="13-caveats-and-issues.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Caveats and Issues
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="14-credits.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Credits
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="15-release-notes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#charts-in-html-content" class="md-nav__link">
    <span class="md-ellipsis">
      Charts in HTML Content
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chart-specification-files" class="md-nav__link">
    <span class="md-ellipsis">
      Chart Specification Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-data-for-charts" class="md-nav__link">
    <span class="md-ellipsis">
      Source Data for Charts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips-and-suggestions-for-designing-charts" class="md-nav__link">
    <span class="md-ellipsis">
      Tips and Suggestions for Designing Charts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samples" class="md-nav__link">
    <span class="md-ellipsis">
      Samples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="charts-and-graphs-in-docma">Charts and Graphs in Docma<a class="headerlink" href="#charts-and-graphs-in-docma" title="Permanent link">&para;</a></h1>
<p>Docma supports the <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> declarative
syntax for specifying charts / graphs. Vega-Lite specifies a mapping between
source data and visual representations of the data.</p>
<p>To make all this work in docma requires three things:</p>
<ol>
<li>
<p>A means to tell docma that a chart needs to be generated. This is done using
    a special URL format within <code>&lt;IMG&gt;</code> tags in the source HTML.
    See <a href="#charts-in-html-content">Charts in HTML Content</a>.</p>
</li>
<li>
<p>A means to specify the design of the chart. This is done with a
    <a href="#chart-specification-files">chart specification file</a> within the document
    template.</p>
</li>
<li>
<p>A means to feed data to the chart creation process.
    See <a href="#source-data-for-charts">Source Data for Charts</a>.</p>
</li>
</ol>
<h2 id="charts-in-html-content">Charts in HTML Content<a class="headerlink" href="#charts-in-html-content" title="Permanent link">&para;</a></h2>
<p>Docma provides a URL based mechanism to trigger creation of charts during the
process of converting input HTML to a PDF or HTML output document. See
<a href="05-template-rendering.html#dynamic-content-generation">Dynamic Content Generation</a> for more details.</p>
<p>It looks like this:</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-0-1"><span class="p">&lt;</span><span class="nt">IMG</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;docma:vega?spec=charts/my-chart.yaml&amp;data=...&quot;</span><span class="p">&gt;</span>
</span></code></pre></div>
<p>In a nutshell, when docma sees a URL in this form, it knows to
get data from the source specified by the <code>data</code> parameter and feed it into the
chart generator with the Vega-Lite specification indicated by the <code>spec</code>
parameter:</p>
<p>Normal CSS styling can also be applied:</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-1-1"><span class="p">&lt;</span><span class="nt">IMG</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;width: 5cm;&quot;</span>
</span><span id="__span-1-2">    <span class="na">src</span><span class="o">=</span><span class="s">&quot;docma:vega?spec=charts/my-chart.yaml&amp;data=...&quot;</span><span class="p">&gt;</span>
</span></code></pre></div>
<p>Here is a more complete example, showing how Jinja can help build the <code>src</code> URL
structure safely:</p>
<div class="language-html+jinja highlight"><pre><span></span><code><span id="__span-2-1"><span class="p">&lt;</span><span class="nt">IMG</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;width: 10cm;&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">docma:vega?</span><span class="cp">{{</span>
</span><span id="__span-2-2">  <span class="o">(</span>
</span><span id="__span-2-3">    <span class="o">(</span> <span class="s1">&#39;spec&#39;</span><span class="o">,</span> <span class="s1">&#39;charts/my-chart.yaml&#39;</span> <span class="o">),</span>
</span><span id="__span-2-4">    <span class="o">(</span> <span class="s1">&#39;data&#39;</span><span class="o">,</span> <span class="s1">&#39;file;data/my-data.csv&#39;</span> <span class="o">),</span>
</span><span id="__span-2-5">    <span class="o">(</span> <span class="s1">&#39;params&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="s1">&#39;extra_rendering_param&#39;</span><span class="o">:</span> <span class="m">1234</span> <span class="o">}</span> <span class="o">|</span> <span class="nf">tojson</span><span class="o">)</span>
</span><span id="__span-2-6">  <span class="o">)</span> <span class="o">|</span> <span class="nf">urlencode</span>
</span><span id="__span-2-7"><span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>
</span></code></pre></div>
<p>See also <a href="05-template-rendering.html#generating-charts-and-graphs">docma scheme parameters for vega charts</a>.</p>
<h2 id="chart-specification-files">Chart Specification Files<a class="headerlink" href="#chart-specification-files" title="Permanent link">&para;</a></h2>
<p>The chart specification is a file in the document template containing a
<a href="https://vega.github.io/vega-lite/">Vega-Lite</a> chart definition.</p>
<p>The chart specification will be Jinja rendered prior to use.</p>
<p>The chart specification can be in either JSON or YAML format.
Docma doesn't care which. There are pros and cons with each format.
YAML is easier to write and to read but JSON is the native format of the
examples in the <a href="https://vega.github.io/vega-lite/examples/">Vega-Lite sample gallery</a>
or the <a href="https://vega.github.io/editor/#/">Vega-Lite on-line editor</a>. You're 
going to want to use both of these resources.</p>
<p>The chart specification file should still have a <code>.yaml</code> suffix, even if the
contents are JSON. This all works because valid JSON is also valid YAML.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Docma uses the <a href="https://altair-viz.github.io/index.html">Vega-Altair</a>
Python package to process Vega-Lite specifications.</p>
</div>
<h2 id="source-data-for-charts">Source Data for Charts<a class="headerlink" href="#source-data-for-charts" title="Permanent link">&para;</a></h2>
<p>The value of the <code>data</code> parameter in a <code>docma:vega?...</code> URL is a docma <a href="08-data-sources.html#data-source-specifications">data
source specification</a> that indicates where to obtain
the data and where to attach it to the chart specification.</p>
<p>The <code>data</code> parameter can be used multiple times if there are multiple data
sources in the chart.</p>
<p>If the <code>data</code> parameter is not specified, the source data is assumed to be
contained within the chart specification itself. This can actually be useful
when designing a chart to avoid the need to wrangle external data when
experimenting.</p>
<p>See <a href="08-data-sources.html#data-sources-in-docma">Data Sources in Docma</a> for more information.</p>
<h2 id="tips-and-suggestions-for-designing-charts">Tips and Suggestions for Designing Charts<a class="headerlink" href="#tips-and-suggestions-for-designing-charts" title="Permanent link">&para;</a></h2>
<p>The <a href="https://vega.github.io/vega-lite/">Vega-Lite website</a> has lots of resources
to help with designing charts. This section just provides a few tips and
suggestions.</p>
<p>Some suggestions for simplifying the development:</p>
<ul>
<li>
<p>Where possible, start with a chart from the
    <a href="https://vega.github.io/vega-lite/examples/">Vega-Lite sample gallery</a> and
    play with it in the on-line editor to get close to what you are after.</p>
</li>
<li>
<p>Include a small sample data set in the chart specification to allow
    experimentation. The sample data can be left in the specification when
    included into a docma document template. Docma will replace it at run-time.</p>
</li>
<li>
<p>Charts reference a JSON schema:
    <code>$schema: https://vega.github.io/schema/vega-lite/v5.json</code>. PyCharm will
    interpret this and provide some auto completion and validation as you go.</p>
</li>
<li>
<p>Believe it, or not, but ChatGPT is surprisingly helpful with Vega-Lite. It
    can often give meaningful answers to enquiries like these:</p>
<ul>
<li>
<p><em>Explain this Vega-Lite specification to me ... (paste the JSON in)</em></p>
</li>
<li>
<p><em>I have this Vega-Lite specification. How do I remove the axes and
    change the colour on the bars?</em></p>
</li>
<li>
<p><em>Design a Vega-Lite chart that shows a heat map of ... with ... on the x
    axis and ... on the y axis</em></p>
</li>
</ul>
</li>
<li>
<p>ChatGPT can get confused with obscure concepts (like interval meter data).
    You can often replace this with more generic data in the questions
    (temperature data is a good substitute for interval data).</p>
</li>
<li>
<p><a href="https://vega.github.io/vega-lite/docs/layer.html">Layers</a> are quite an
    important concept in Vega-Lite. Make an effort to understand them.</p>
</li>
</ul>
<h2 id="samples">Samples<a class="headerlink" href="#samples" title="Permanent link">&para;</a></h2>
<p>With a bit of effort, Vega-Lite does a surprisingly good job of generating good
looking charts with a small amount of specification.</p>
<p>Here are a few examples.</p>
<details>
<summary>Bar Chart</summary>
<p>This is a bar chart of dog woof-power.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Chart</label><label for="__tabbed_1_2">Chart Specification File</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="" src="img/samples/woof.png" /></p>
</div>
<div class="tabbed-block">
<p>This is the specification file (with truncated data).</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-3-1"><span class="nt">$schema</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://vega.github.io/schema/vega-lite/v5.json&#39;</span>
</span><span id="__span-3-2"><span class="nt">width</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
</span><span id="__span-3-3"><span class="nt">config</span><span class="p">:</span>
</span><span id="__span-3-4"><span class="w">  </span><span class="nt">font</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avenir</span>
</span><span id="__span-3-5"><span class="w">  </span><span class="nt">background</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;#eeeeee&#39;</span>
</span><span id="__span-3-6"><span class="w">  </span><span class="nt">padding</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-3-7"><span class="w">  </span><span class="nt">view</span><span class="p">:</span>
</span><span id="__span-3-8"><span class="w">    </span><span class="nt">stroke</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">transparent</span>
</span><span id="__span-3-9"><span class="w">  </span><span class="nt">axisX</span><span class="p">:</span>
</span><span id="__span-3-10"><span class="w">    </span><span class="nt">grid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-3-11"><span class="w">    </span><span class="nt">gridWidth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>
</span><span id="__span-3-12"><span class="w">    </span><span class="nt">domainDash</span><span class="p">:</span>
</span><span id="__span-3-13"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
</span><span id="__span-3-14"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
</span><span id="__span-3-15"><span class="w">    </span><span class="nt">formatType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
</span><span id="__span-3-16"><span class="w">  </span><span class="nt">axisY</span><span class="p">:</span>
</span><span id="__span-3-17"><span class="w">    </span><span class="nt">grid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-3-18"><span class="nt">data</span><span class="p">:</span>
</span><span id="__span-3-19"><span class="w">  </span><span class="nt">values</span><span class="p">:</span>
</span><span id="__span-3-20"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Dog</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bolliver</span>
</span><span id="__span-3-21"><span class="w">      </span><span class="nt">Woof</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">28</span>
</span><span id="__span-3-22"><span class="nt">view</span><span class="p">:</span>
</span><span id="__span-3-23"><span class="w">  </span><span class="nt">fill</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;#eeeeee&#39;</span>
</span><span id="__span-3-24"><span class="nt">encoding</span><span class="p">:</span>
</span><span id="__span-3-25"><span class="w">  </span><span class="s">&#39;y&#39;</span><span class="p p-Indicator">:</span>
</span><span id="__span-3-26"><span class="w">    </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dog</span>
</span><span id="__span-3-27"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dog</span>
</span><span id="__span-3-28"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ordinal</span>
</span><span id="__span-3-29"><span class="w">    </span><span class="nt">axis</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
</span><span id="__span-3-30"><span class="nt">layer</span><span class="p">:</span>
</span><span id="__span-3-31"><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mark</span><span class="p">:</span>
</span><span id="__span-3-32"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span>
</span><span id="__span-3-33"><span class="w">      </span><span class="nt">cornerRadius</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
</span><span id="__span-3-34"><span class="w">    </span><span class="nt">encoding</span><span class="p">:</span>
</span><span id="__span-3-35"><span class="w">      </span><span class="nt">x</span><span class="p">:</span>
</span><span id="__span-3-36"><span class="w">        </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Woof</span>
</span><span id="__span-3-37"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
</span><span id="__span-3-38"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quantitative</span>
</span><span id="__span-3-39"><span class="w">      </span><span class="nt">color</span><span class="p">:</span>
</span><span id="__span-3-40"><span class="w">        </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Woof</span>
</span><span id="__span-3-41"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quantitative</span>
</span><span id="__span-3-42"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;%</span><span class="nv"> </span><span class="s">Woof&#39;</span>
</span><span id="__span-3-43"><span class="w">        </span><span class="nt">scale</span><span class="p">:</span>
</span><span id="__span-3-44"><span class="w">          </span><span class="nt">domain</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="w"> </span><span class="p p-Indicator">]</span>
</span><span id="__span-3-45"><span class="w">          </span><span class="nt">range</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&#39;#fec72b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;#fa4617&#39;</span><span class="w"> </span><span class="p p-Indicator">]</span>
</span><span id="__span-3-46"><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mark</span><span class="p">:</span>
</span><span id="__span-3-47"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">text</span>
</span><span id="__span-3-48"><span class="w">      </span><span class="nt">align</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">left</span>
</span><span id="__span-3-49"><span class="w">      </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-3-50"><span class="w">      </span><span class="nt">color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">white</span>
</span><span id="__span-3-51"><span class="w">      </span><span class="nt">fontWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bold</span>
</span><span id="__span-3-52"><span class="w">    </span><span class="nt">encoding</span><span class="p">:</span>
</span><span id="__span-3-53"><span class="w">      </span><span class="nt">text</span><span class="p">:</span>
</span><span id="__span-3-54"><span class="w">        </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dog</span>
</span></code></pre></div>
</div>
</div>
</div>
</details>
<details>
<summary>Heat Map</summary>
<p>This heat map shows electricity interval meter data.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Chart</label><label for="__tabbed_2_2">Chart specification file</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="" src="img/samples/heatmap.png" /></p>
</div>
<div class="tabbed-block">
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-4-1"><span class="nt">$schema</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://vega.github.io/schema/vega-lite/v5.json&#39;</span>
</span><span id="__span-4-2"><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Daily</span><span class="nv"> </span><span class="s">Usage&#39;</span>
</span><span id="__span-4-3"><span class="nt">config</span><span class="p">:</span>
</span><span id="__span-4-4"><span class="w">  </span><span class="nt">font</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avenir</span>
</span><span id="__span-4-5"><span class="w">  </span><span class="nt">view</span><span class="p">:</span>
</span><span id="__span-4-6"><span class="w">    </span><span class="nt">continuousWidth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
</span><span id="__span-4-7"><span class="w">    </span><span class="nt">continuousHeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
</span><span id="__span-4-8"><span class="w">    </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">13</span>
</span><span id="__span-4-9"><span class="w">    </span><span class="nt">strokeWidth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</span><span id="__span-4-10"><span class="w">  </span><span class="nt">axis</span><span class="p">:</span>
</span><span id="__span-4-11"><span class="w">    </span><span class="nt">domain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-4-12"><span class="nt">data</span><span class="p">:</span>
</span><span id="__span-4-13"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">usage_by_day</span>
</span><span id="__span-4-14">
</span><span id="__span-4-15"><span class="nt">mark</span><span class="p">:</span>
</span><span id="__span-4-16"><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rect</span>
</span><span id="__span-4-17"><span class="nt">encoding</span><span class="p">:</span>
</span><span id="__span-4-18"><span class="w">  </span><span class="nt">color</span><span class="p">:</span>
</span><span id="__span-4-19"><span class="w">    </span><span class="nt">aggregate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">max</span>
</span><span id="__span-4-20"><span class="w">    </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kwh</span>
</span><span id="__span-4-21"><span class="w">    </span><span class="nt">legend</span><span class="p">:</span>
</span><span id="__span-4-22"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kWh</span>
</span><span id="__span-4-23"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quantitative</span>
</span><span id="__span-4-24"><span class="w">    </span><span class="nt">scale</span><span class="p">:</span>
</span><span id="__span-4-25"><span class="w">      </span><span class="nt">range</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&#39;#fec72b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;#fa4617&#39;</span><span class="w"> </span><span class="p p-Indicator">]</span>
</span><span id="__span-4-26"><span class="w">  </span><span class="nt">x</span><span class="p">:</span>
</span><span id="__span-4-27"><span class="w">    </span><span class="nt">axis</span><span class="p">:</span>
</span><span id="__span-4-28"><span class="w">      </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;%e&#39;</span>
</span><span id="__span-4-29"><span class="w">      </span><span class="nt">labelAngle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</span><span id="__span-4-30"><span class="w">    </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">date</span>
</span><span id="__span-4-31"><span class="w">    </span><span class="nt">timeUnit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">date</span>
</span><span id="__span-4-32"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Day</span>
</span><span id="__span-4-33"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ordinal</span>
</span><span id="__span-4-34"><span class="w">  </span><span class="nt">y</span><span class="p">:</span>
</span><span id="__span-4-35"><span class="w">    </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">date</span>
</span><span id="__span-4-36"><span class="w">    </span><span class="nt">timeUnit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">month</span>
</span><span id="__span-4-37"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Month</span>
</span><span id="__span-4-38"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ordinal</span>
</span><span id="__span-4-39"><span class="nt">datasets</span><span class="p">:</span>
</span><span id="__span-4-40"><span class="w">  </span><span class="c1"># Sample data -- this gets replaced</span>
</span><span id="__span-4-41"><span class="w">  </span><span class="nt">usage_by_day</span><span class="p">:</span>
</span><span id="__span-4-42"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2023-07-01</span>
</span><span id="__span-4-43"><span class="w">      </span><span class="nt">kwh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234</span>
</span></code></pre></div>
</div>
</div>
</div>
</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; Origin Energy
    </div>
  
</div>
      <div class="md-footer-social">
        <div class="md-copyright">
          <div class="md-copyright__highlight">
            v2.2.0
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "content.code.copy"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>